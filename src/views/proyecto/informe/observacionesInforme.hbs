
<div class="main" id="contenido">

    {{!-- Este div permite ocupar el 100% del espacio vertical disponible --}}
    <div class="container-fluid">

        {{!-- div centra horizontalmente el contenido --}}
        <div class="d-flex justify-content-center vh-80">

            {{!-- div centra verticalmente el contenido --}}
            <div class="my-auto w-75" align="center">

                {{!-- Cabecera --}}
                <div class="m-5">
                    <h1> Agregar observaciones  </h1>
                </div>

              
                <div class="d-flex justify-content-center">
                    <form action="/informe/observaciones/{{id_proyecto}}/{{id_informe}}" method="POST" class="pt-2 w-50">

                        
                        {{#if validacion}}
                            <input type="hidden" id="informe" value="{{id_informe}}" >
                            <input type="hidden" id="resultado" value="{{validacion.id_proyecto}}" >
                            <label for="etiqueta">Recuerde que la revision solo es una vez   </label>
                            <input type="hidden" id="revisiones" value="{{validacion.revisiones}}" >
                            {{/if}}
                        <div class="form-group">
                                <label for="">Proyecto: {{proyectodisponible.titulo}}</label>
                                <br>

                              
                                
                            </div>

                            <div class="form-group">
                                <label for="Anotaciones">Anotaciones:</label><br>
                                <textarea name="anotaciones" id="observaciones" cols="60" rows="10" placeholder="anotaciones" onkeypress="validarEntrada(event)" required></textarea>

                            </div>


                        

                        {{!-- Boton --}}
                        <div class="m-5" align="center">
                            <div class="form-group" align="center">
                                <button class="btn btn-outline-primary col-sm-4 btn-block">
                                    <i class="fas fa-user-plus"></i>&emsp;agregar observacion
                                </button>
                            </div>
                        </div>

                    </form>
                </div>

            </div>

        </div>
    </div>
</div>



<script>

window.onload =load;

function load(){

var resul= document.getElementById("resultado");
//var intentos=resul.value;
//console.log(intentos);
if(resul ){
var intentos=document.getElementById("revisiones").value;
var inf=document.getElementById("informe").value;
if(intentos<1){
  var r = confirm("Recuerde que solo tenra una oportunidad de revisarlo");
  if (r == true) {
   // txt = "You pressed OK!";

    
  } else {
    //txt = "You pressed Cancel!";
    
    window.location.href = "/informe/verInforme/"+inf+"/"+resul.value;
  }
}else{
    
    //boton.setAttribute("disabled","true");
    alert("ya  no puede realizar observaciones");
window.location.href = "/informe/verInforme/"+inf+"/"+resul.value;


}
  
}else{
console.log("no hay")

}


}




    function validarObs(){
 var contenido=document.getElementById("observaciones").value;
 console.log(contenido);
 if(contenido.length==0){
   event.preventDefault();
 }

    }



      function validarEntrada(event) {
        var a = document.getElementById("observaciones");
        var b = a.value;
        console.log(event.charCode);
       
            if ((event.charCode >= 48 && event.charCode <= 59)||(event.charCode >= 65 && event.charCode <= 90) || (event.charCode >= 97 && event.charCode <= 122) || (event.charCode == 241) || 
            (event.charCode == 209) || (event.charCode == 32)||(event.charCode==13) ||
            (event.charCode >= 44 && event.charCode<=46) ) {
               a.value = (b + String.fromCharCode(event.charCode)).toUpperCase(); 
            }
    
        event.preventDefault();

    }
</script>