<div class="main" id="contenido">
  <div class="card-body">
    <form action="/materialServicio/add" method="POST">


      <input type="hidden" name="id_proyecto" value="{{id_proyecto}}">
      <table id="elementos" class="table">
        <thead>
          <tr>
            <th scope="col">Descripcion</th>
            <th scope="col">Subpartida</th>
            <th scope="col">Monto</th>
          </tr>
        </thead>
        <tr>


          <td><input type="text" class="form-control" name="descripcion" required></td>

          <td>

            <select name="clave_subpartida" required id="clave_subpartida">
              {{#each subpartidas}}
              <option value="{{clave_subpartida}}">{{descripcion}}</option>
              {{/each}}
            </select>
          </td>
          <td><input type="number" class="form-control" name="monto" required></td>

        </tr>

      </table>

      <p>
        <input type="button" onclick="insRow('elementos')" value="agregar nuevo">
        <td><input type="button" value="Eliminar Ultimo" onclick="deleteRow('elementos')"></td>
      </p>




      <div class="col-md-4 mx-auto">
        <div class="card">
          <div class="form-group">
            <button class="btn btn-success btn-block"> Agregar</button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>




<script>
  function deleteRow(id) {
    document.getE
    var ultimo = document.getElementById("elementos").rows.length - 1;
    if (ultimo > 1) {
      document.getElementById(id).deleteRow(ultimo);
    }
  }

  function borrar(valor) {

    var sel = document.getElementById(valor);

    sel.remove(sel.selectedIndex);
    console.log(sel.length);

  }
  function insRow(id) {

    var filas = document.getElementById("elementos").rows.length;

    // var inserta="entregable"filas;
    //var anterior="entregable"+(filas-1);
    //console.log(anteriro);
    //borrar(anterior);

    var x = document.getElementById(id).insertRow(filas);
    var y = x.insertCell(0);
    var z = x.insertCell(1);
    var a = x.insertCell(2);


    y.innerHTML = '<td><input type="text"  class="form-control" name="descripcion" required></td>';
    z.innerHTML = '<td><select name="clave_subpartida" required id="clave_subpartida">{{#each subpartidas}}<option value="{{clave_subpartida}}">{{descripcion}}</option>{{/each}}</select></td>';
    a.innerHTML = '<td><input type="number"  class="form-control" name="monto" required></td>';
  }
</script>